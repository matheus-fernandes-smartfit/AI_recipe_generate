{"version":3,"sources":["../../../../../src/api/graphql/queries/UserQuery.ts"],"sourcesContent":["import { graphql, query } from '../client';\n\nexport type Permission = 'ADMIN' | 'OWN' | 'PUBLISH' | 'VIEW';\n\ntype CurrentUserDataUser = {\n  permissions: Permission[];\n  actor: {\n    __typename: 'Robot' | 'SSOUser' | 'User';\n    id: string;\n  };\n};\n\ntype CurrentUserDataAccount = {\n  __typename?: 'Account';\n  id: string;\n  users: CurrentUserDataUser[];\n};\n\nexport type Actor =\n  | {\n      __typename: 'Robot';\n      firstName?: string | null;\n      id: string;\n      accounts: CurrentUserDataAccount[];\n    }\n  | {\n      __typename: 'SSOUser' | 'User';\n      id: string;\n      username: string;\n      primaryAccount: {\n        id: string;\n      };\n      accounts: CurrentUserDataAccount[];\n    };\n\ntype CurrentUserData = {\n  meActor: Actor | null;\n};\n\nconst CurrentUserDocument = graphql<CurrentUserData>(`\n  query CurrentUser {\n    meActor {\n      __typename\n      id\n      ... on UserActor {\n        primaryAccount {\n          id\n        }\n        username\n      }\n      ... on Robot {\n        firstName\n      }\n      accounts {\n        id\n        users {\n          actor {\n            __typename\n            id\n          }\n          permissions\n        }\n      }\n    }\n  }\n`);\n\ntype UserQueryData = {\n  meUserActor: {\n    id: string;\n    username: string;\n  };\n};\n\nconst UserQueryDocument = graphql<UserQueryData>(`\n  query UserQuery {\n    meUserActor {\n      id\n      username\n    }\n  }\n`);\n\nexport const UserQuery = {\n  async currentUserAsync() {\n    const data = await query(CurrentUserDocument, {});\n    return data.meActor;\n  },\n  async meUserActorAsync(headers: Record<string, string>) {\n    const data = await query(UserQueryDocument, {}, { headers });\n    return {\n      id: data.meUserActor.id,\n      username: data.meUserActor.username,\n    };\n  },\n};\n"],"names":["UserQuery","CurrentUserDocument","graphql","UserQueryDocument","currentUserAsync","data","query","meActor","meUserActorAsync","headers","id","meUserActor","username"],"mappings":";;;;+BAmFaA;;;eAAAA;;;wBAnFkB;AAuC/B,MAAMC,sBAAsBC,IAAAA,eAAO,EAAkB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BtD,CAAC;AASD,MAAMC,oBAAoBD,IAAAA,eAAO,EAAgB,CAAC;;;;;;;AAOlD,CAAC;AAEM,MAAMF,YAAY;IACvB,MAAMI;QACJ,MAAMC,OAAO,MAAMC,IAAAA,aAAK,EAACL,qBAAqB,CAAC;QAC/C,OAAOI,KAAKE,OAAO;IACrB;IACA,MAAMC,kBAAiBC,OAA+B;QACpD,MAAMJ,OAAO,MAAMC,IAAAA,aAAK,EAACH,mBAAmB,CAAC,GAAG;YAAEM;QAAQ;QAC1D,OAAO;YACLC,IAAIL,KAAKM,WAAW,CAACD,EAAE;YACvBE,UAAUP,KAAKM,WAAW,CAACC,QAAQ;QACrC;IACF;AACF"}